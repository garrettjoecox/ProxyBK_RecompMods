#include "modding.h"
#include "functions.h"
#include "variables.h"
#include "recomputils.h"
#include "recompconfig.h"
#include "recompui.h"
#include "bkextern.h"

RecompuiContext context;
RecompuiResource root;
RecompuiResource crosshair;
RecompuiResource imageview;
RecompuiTextureHandle crosshairTextureHandle;
static const u8 crosshairTextureData[32 * 32 * 4] = {
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 210, 210, 210, 63, 
  228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 
  228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 228, 228, 228, 97, 
  212, 212, 212, 72, 255, 255, 255, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 159, 159, 159, 16, 246, 246, 246, 227, 
  255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 
  255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 
  247, 247, 247, 239, 170, 170, 170, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 213, 213, 213, 118, 255, 255, 255, 255, 
  255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 254, 254, 254, 255, 255, 255, 255, 255, 254, 254, 254, 255, 252, 252, 252, 255, 
  251, 251, 251, 255, 254, 254, 254, 255, 255, 255, 255, 255, 254, 254, 254, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 
  255, 255, 255, 255, 212, 212, 212, 172, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 153, 153, 153, 25, 245, 245, 245, 236, 255, 255, 255, 255, 
  255, 255, 255, 255, 229, 229, 229, 238, 236, 236, 236, 182, 236, 236, 236, 182, 236, 236, 236, 182, 236, 236, 236, 182, 231, 231, 231, 213, 252, 252, 252, 255, 
  252, 252, 252, 255, 240, 240, 240, 213, 236, 236, 236, 182, 236, 236, 236, 182, 236, 236, 236, 182, 236, 236, 236, 182, 231, 231, 231, 224, 255, 255, 255, 255, 
  255, 255, 255, 255, 247, 247, 247, 255, 170, 170, 170, 57, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 218, 218, 218, 131, 255, 255, 255, 255, 255, 255, 255, 255, 
  244, 244, 244, 255, 157, 157, 157, 42, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 138, 138, 138, 24, 223, 223, 223, 225, 
  233, 233, 233, 246, 151, 151, 151, 42, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 145, 145, 145, 21, 243, 243, 243, 237, 
  255, 255, 255, 255, 255, 255, 255, 255, 225, 225, 225, 172, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 115, 115, 115, 11, 244, 244, 244, 232, 255, 255, 255, 255, 255, 255, 255, 255, 
  215, 215, 215, 182, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 213, 213, 213, 118, 
  215, 215, 215, 160, 255, 255, 255, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 226, 226, 226, 134, 
  255, 255, 255, 255, 255, 255, 255, 255, 245, 245, 245, 255, 156, 156, 156, 31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 218, 218, 218, 131, 255, 255, 255, 255, 255, 255, 255, 255, 235, 235, 235, 255, 
  165, 165, 165, 68, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 180, 180, 180, 34, 
  166, 166, 166, 46, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 175, 175, 175, 29, 
  242, 242, 242, 221, 255, 255, 255, 255, 255, 255, 255, 255, 210, 210, 210, 188, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 141, 141, 141, 18, 247, 247, 247, 239, 255, 255, 255, 255, 255, 255, 255, 255, 212, 212, 212, 172, 
  102, 102, 102, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 85, 85, 85, 3, 
  102, 102, 102, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 1, 
  216, 216, 216, 119, 255, 255, 255, 255, 255, 255, 255, 255, 248, 248, 248, 255, 176, 176, 176, 42, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 216, 216, 216, 127, 255, 255, 255, 255, 255, 255, 255, 255, 243, 243, 243, 255, 147, 147, 147, 57, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  153, 153, 153, 20, 243, 243, 243, 229, 255, 255, 255, 255, 255, 255, 255, 255, 217, 217, 217, 177, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 140, 140, 140, 20, 243, 243, 243, 225, 255, 255, 255, 255, 255, 255, 255, 255, 208, 208, 208, 185, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 211, 211, 211, 123, 255, 255, 255, 254, 255, 255, 255, 255, 247, 247, 247, 245, 176, 176, 176, 42, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 219, 219, 219, 136, 255, 255, 255, 255, 255, 255, 255, 255, 238, 238, 238, 250, 130, 130, 130, 47, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 156, 156, 156, 13, 244, 244, 244, 221, 255, 255, 255, 255, 255, 255, 255, 255, 213, 213, 213, 191, 127, 127, 127, 2, 0, 0, 0, 0, 
  0, 0, 0, 0, 176, 176, 176, 26, 248, 248, 248, 236, 255, 255, 255, 255, 255, 255, 255, 255, 200, 200, 200, 177, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 221, 221, 221, 115, 255, 255, 255, 255, 255, 255, 255, 255, 246, 246, 246, 251, 161, 161, 161, 60, 0, 0, 0, 0, 
  0, 0, 0, 0, 220, 220, 220, 118, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 229, 229, 229, 198, 127, 127, 127, 24, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 141, 141, 141, 9, 226, 226, 226, 161, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 231, 231, 231, 151, 0, 0, 0, 0, 
  127, 127, 127, 22, 244, 244, 244, 232, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 236, 236, 236, 236, 187, 187, 187, 83, 
  127, 127, 127, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 127, 127, 127, 14, 
  188, 188, 188, 65, 237, 237, 237, 206, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 245, 245, 245, 255, 184, 184, 184, 47, 
  210, 210, 210, 126, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 252, 252, 252, 251, 
  233, 233, 233, 203, 184, 184, 184, 94, 113, 113, 113, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 63, 63, 63, 8, 176, 176, 176, 78, 230, 230, 230, 194, 
  250, 250, 250, 249, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 223, 223, 223, 169, 
  179, 179, 179, 74, 253, 253, 253, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 253, 253, 253, 255, 221, 221, 221, 213, 
  188, 188, 188, 135, 159, 159, 159, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 127, 127, 127, 2, 135, 135, 135, 17, 215, 215, 215, 90, 
  223, 223, 223, 195, 252, 252, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 184, 184, 184, 141, 
  85, 85, 85, 3, 232, 232, 232, 192, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 249, 249, 249, 255, 215, 215, 215, 153, 127, 127, 127, 18, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  141, 141, 141, 9, 198, 198, 198, 144, 248, 248, 248, 249, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 232, 232, 232, 234, 111, 111, 111, 16, 
  0, 0, 0, 0, 209, 209, 209, 67, 255, 255, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 187, 187, 187, 167, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 201, 201, 201, 104, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 178, 178, 178, 130, 0, 0, 0, 0, 
  0, 0, 0, 0, 145, 145, 145, 7, 238, 238, 238, 202, 255, 255, 255, 255, 255, 255, 255, 255, 229, 229, 229, 203, 153, 153, 153, 5, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 255, 255, 255, 1, 233, 233, 233, 166, 255, 255, 255, 255, 255, 255, 255, 255, 232, 232, 232, 239, 157, 157, 157, 21, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 183, 183, 183, 71, 252, 252, 252, 250, 255, 255, 255, 255, 251, 251, 251, 255, 188, 188, 188, 88, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 184, 184, 184, 47, 250, 250, 250, 246, 255, 255, 255, 255, 253, 253, 253, 255, 180, 180, 180, 141, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 127, 127, 127, 4, 233, 233, 233, 188, 255, 255, 255, 255, 255, 255, 255, 255, 235, 235, 235, 219, 153, 153, 153, 10, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  85, 85, 85, 3, 229, 229, 229, 180, 255, 255, 255, 255, 255, 255, 255, 255, 226, 226, 226, 234, 143, 143, 143, 16, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 193, 193, 193, 75, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 213, 213, 213, 80, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  182, 182, 182, 53, 251, 251, 251, 249, 255, 255, 255, 255, 255, 255, 255, 255, 202, 202, 202, 122, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 1, 235, 235, 235, 200, 255, 255, 255, 255, 255, 255, 255, 255, 225, 225, 225, 216, 
  153, 153, 153, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 156, 156, 156, 13, 
  114, 114, 114, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 145, 145, 145, 7, 
  231, 231, 231, 171, 255, 255, 255, 255, 255, 255, 255, 255, 230, 230, 230, 245, 80, 80, 80, 19, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 184, 184, 184, 65, 253, 253, 253, 253, 255, 255, 255, 255, 252, 252, 252, 255, 
  195, 195, 195, 111, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 195, 195, 195, 64, 
  200, 200, 200, 84, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 206, 206, 206, 69, 
  250, 250, 250, 248, 255, 255, 255, 255, 254, 254, 254, 255, 170, 170, 170, 135, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 1, 232, 232, 232, 192, 255, 255, 255, 255, 255, 255, 255, 255, 
  229, 229, 229, 226, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 63, 63, 63, 4, 223, 223, 223, 163, 
  229, 229, 229, 189, 127, 127, 127, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 234, 234, 234, 184, 
  255, 255, 255, 255, 255, 255, 255, 255, 224, 224, 224, 245, 102, 102, 102, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 200, 200, 200, 79, 253, 253, 253, 253, 255, 255, 255, 255, 
  255, 255, 255, 255, 183, 183, 183, 122, 85, 85, 85, 39, 88, 88, 88, 23, 88, 88, 88, 23, 88, 88, 88, 23, 164, 164, 164, 59, 243, 243, 243, 234, 
  247, 247, 247, 253, 162, 162, 162, 119, 82, 82, 82, 34, 88, 88, 88, 23, 88, 88, 88, 23, 88, 88, 88, 23, 172, 172, 172, 71, 252, 252, 252, 251, 
  255, 255, 255, 255, 255, 255, 255, 255, 193, 193, 193, 132, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 127, 127, 127, 6, 230, 230, 230, 198, 255, 255, 255, 255, 
  255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 251, 251, 251, 251, 
  250, 250, 250, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 
  255, 255, 255, 255, 236, 236, 236, 237, 134, 134, 134, 19, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 204, 204, 204, 60, 252, 252, 252, 250, 
  255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 254, 254, 254, 255, 
  254, 254, 254, 255, 254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 
  253, 253, 253, 255, 175, 175, 175, 118, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 127, 127, 127, 2, 230, 230, 230, 178, 
  238, 238, 238, 246, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 
  234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 234, 234, 234, 255, 
  218, 218, 218, 226, 105, 105, 105, 17, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 113, 113, 113, 9, 
  109, 109, 109, 28, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 
  106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 106, 106, 106, 36, 
  104, 104, 104, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
};

#define OVERLAY_FADE_IN_DURATION 5
static int overlayShown = 0;
static int firingEggFromFirstPerson = 0;

RECOMP_PATCH void fxegg_head_spawn(void){
    u8 projectile_indx = commonParticle_getCurrentProjectileIndex();
    AnimSprite *sp78 = commonParticle_getCurrentAnimSprite();
    u8 sp77 = func_8033E93C();
    f32 sp68[3];
    f32 sp5C[3];
    f32 sp50[3];
    f32 sp44[3];
    f32 other_marker[3];
    ActorMarker *marker = func_8033E840();
    f32 tmp_f8 = 20.0f;
    f32 theta = 0.0f;

    marker->unk2C_1 = 1;
    marker->collidable = TRUE;
    func_803300B8(marker, (MarkerCollisionFunc)fxegg_collide);
    func_8033EA40(0, 20.0f);
    func_8033EA40(1, 0.0f);
    func_8033EA40(2, 0.0f);
    _player_getPosition(sp50);
    if (firingEggFromFirstPerson) {
        theta = -D_8037DC60.rotation[0];
        sp50[1] += 100.0f;
    } else {
        sp50[1] += 80.0f;
    }
    ml_vec3f_copy(sp68, sp50);
    player_getRotation(sp44);
    func_80256E24(sp5C, theta, sp44[1], 0.0f, 0.0f, 70.0f);
    sp50[0] += sp5C[0];
    sp50[1] += sp5C[1];
    sp50[2] += sp5C[2];
    func_80244D94(sp68, sp50, other_marker, 0x25e0080, 15.0f);

    projectile_setSprite(projectile_indx, ASSET_708_SPRITE_EGG_PROJECTILE);
    func_8033FFE4(projectile_indx, (s32)tmp_f8, (s32)tmp_f8);
    projectile_setPosition(projectile_indx, sp50);
    func_8033FCD8(projectile_indx, 0xe);

    animsprite_default(sp78);
    animsprite_set_steps(sp78, D_803726A0, sizeof(D_803726A0));
    animsprite_loop(sp78);

    func_80344E18(sp77, 1);
    func_80344EE4(sp77, 0.0f, firingEggFromFirstPerson ? -99999.0f : 0.0f);
    func_80344D94(sp77, sp50);
    if (!firingEggFromFirstPerson && !recomp_get_config_u32("fix_crouch_shooting_left")) {
        sp44[1] += 4.0f;
    }
    func_80256E24(sp5C, theta, sp44[1], 0.0f, 0.0f, 800.0f);
    if (!firingEggFromFirstPerson) {
        sp5C[1] = 0.0f;
    }
    func_80344E3C(sp77, sp5C);
}

RECOMP_HOOK("func_80295C14")
void OnPlayerUpdate() {
    if (!can_egg()) return;

    if (D_8037DC60.state == FIRSTPERSON_STATE_2_IDLE) {
        if (overlayShown < OVERLAY_FADE_IN_DURATION) {
            if (!overlayShown) {
                recompui_show_context(context);
            }
            recompui_open_context(context);
            overlayShown++;
            recompui_set_height(crosshair, 128.0f * (8.0f - 7.0f * (f32)overlayShown / OVERLAY_FADE_IN_DURATION), UNIT_DP);
            recompui_set_width(crosshair, 128.0f * (8.0f - 7.0f * (f32)overlayShown / OVERLAY_FADE_IN_DURATION), UNIT_DP);
            recompui_set_opacity(imageview, (f32)overlayShown / (OVERLAY_FADE_IN_DURATION * 2.0f));
            recompui_close_context(context);
        }

        if (firingEggFromFirstPerson == 0 && bakey_pressed(BUTTON_Z) && can_egg()) {
            if (!item_empty(ITEM_D_EGGS)) {
                firingEggFromFirstPerson = 10;
            } else {
                item_adjustByDiffWithHud(ITEM_D_EGGS, 0);
                coMusicPlayer_playMusic(COMUSIC_2C_BUZZER, 22000);
            }
        }
    } else {
        if (overlayShown) {
            recompui_open_context(context);
            overlayShown--;
            recompui_set_height(crosshair, 128.0f * (8.0f - 7.0f * (f32)overlayShown / OVERLAY_FADE_IN_DURATION), UNIT_DP);
            recompui_set_width(crosshair, 128.0f * (8.0f - 7.0f * (f32)overlayShown / OVERLAY_FADE_IN_DURATION), UNIT_DP);
            recompui_set_opacity(imageview, (f32)overlayShown / (OVERLAY_FADE_IN_DURATION * 2.0f));
            recompui_close_context(context);

            if (overlayShown == 0) {
                recompui_hide_context(context);
            }
        }
    }

    if (firingEggFromFirstPerson) {
        if (firingEggFromFirstPerson == 10) {
            func_8030E760(SFX_46_KAZOOIE_CHOKING_UP, 1.0f, 0x7fff);
        }
        if (firingEggFromFirstPerson == 1) {
            func_8030E760(SFX_57_KAZOOIE_HEGH, 1.0f, 0x7fff);
            commonParticle_new(COMMON_PARTICLE_1_EGG_HEAD, 1);
            item_dec(ITEM_D_EGGS);
            ability_use(ABILITY_USED_EGG);
        }
        firingEggFromFirstPerson--;
    }
}

RECOMP_CALLBACK("*", recomp_on_init)
void on_init() {
    RecompuiColor bg_color;
    bg_color.r = 255;
    bg_color.g = 255;
    bg_color.b = 255;
    bg_color.a = 0.4f * 255;

    context = recompui_create_context();
    recompui_open_context(context);
    recompui_set_context_captures_input(context, FALSE);
    recompui_set_context_captures_mouse(context, FALSE);

    root = recompui_context_root(context);

    recompui_set_position(root, POSITION_ABSOLUTE);
    recompui_set_top(root, 0, UNIT_DP);
    recompui_set_right(root, 0, UNIT_DP);
    recompui_set_bottom(root, 0, UNIT_DP);
    recompui_set_left(root, 0, UNIT_DP);
    recompui_set_width_auto(root);
    recompui_set_height_auto(root);
    recompui_set_display(root, DISPLAY_FLEX);
    recompui_set_flex_direction(root, FLEX_DIRECTION_COLUMN);
    recompui_set_justify_content(root, JUSTIFY_CONTENT_CENTER);
    recompui_set_align_items(root, ALIGN_ITEMS_CENTER);

    crosshair = recompui_create_element(context, root);

    recompui_set_height(crosshair, 128.0f, UNIT_DP);
    recompui_set_width(crosshair, 128.0f, UNIT_DP);
    recompui_set_display(crosshair, DISPLAY_FLEX);
    recompui_set_flex_direction(crosshair, FLEX_DIRECTION_COLUMN);

    crosshairTextureHandle = recompui_create_texture_rgba32(crosshairTextureData, 32, 32);
    imageview = recompui_create_imageview(context, crosshair, crosshairTextureHandle);
    recompui_set_flex_grow(imageview, 1.0f);

    recompui_close_context(context);
}
